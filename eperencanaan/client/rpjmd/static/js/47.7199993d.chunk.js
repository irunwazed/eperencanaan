(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{267:function(e,a,t){e.exports=t.p+"static/media/loading.557336d4.gif"},271:function(e,a,t){"use strict";var n=t(85),l=t(86),i=t(88),r=t(87),d=t(89),o=t(1),s=t.n(o),c=t(109),m=t(106),p=t(107),u=t(103),g=t(108),h=t(268),E=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(i.a)(this,Object(r.a)(a).call(this,e))).getRka=function(){return t.props.rka,s.a.createElement("div",null,s.a.createElement(c.a,{type:"hidden",name:"tahun",value:t.props.tahun}),s.a.createElement(c.a,{type:"hidden",name:"perumusan_program_id",value:t.props.perumusan_program_id}))},t.state={loading:!1},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"animated fadeIn"},s.a.createElement(m.a,null,s.a.createElement(p.a,{xs:"128",md:"10"},s.a.createElement(m.a,null,s.a.createElement(p.a,{xs:"18",md:"3"},s.a.createElement(u.a,{method:"post",action:h.apiRoot+this.props.link+"/save/pdf"},s.a.createElement(c.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),s.a.createElement(c.a,{type:"hidden",name:"rpjmd",value:localStorage.getItem("codexv-rpjmd")}),s.a.createElement(c.a,{type:"hidden",name:"search",value:this.state.pencarian}),this.getRka(),s.a.createElement(g.a,{color:"",style:{backgroundColor:"#d61515",color:"#fff"}},"PDF"))),s.a.createElement(p.a,{xs:"18",md:"3"},s.a.createElement(u.a,{method:"post",action:h.apiRoot+this.props.link+"/save/excel"},s.a.createElement(c.a,{type:"hidden",name:"session",value:localStorage.getItem("codexv-session")}),s.a.createElement(c.a,{type:"hidden",name:"rpjmd",value:localStorage.getItem("codexv-rpjmd")}),s.a.createElement(c.a,{type:"hidden",name:"search",value:this.state.pencarian}),this.getRka(),s.a.createElement(g.a,{color:"",style:{backgroundColor:"#23bc3a",color:"#fff"}},"Excel")))))))}}]),a}(o.Component);a.a=E},371:function(e,a,t){"use strict";t.r(a);var n=t(274),l=t(85),i=t(86),r=t(88),d=t(87),o=t(89),s=t(90),c=t(1),m=t.n(c),p=t(101),u=t(91),g=t(92),h=t(93),E=t(106),v=t(107),_=t(103),f=t(104),P=t(109),b=t(108),k=t(96),w=t(95),S=t(94),j=t(105),y=t(102),C=t(98),D=t(99),O=t(100),x=t(270),A=t.n(x),N=t(268),I=t(267),T=t.n(I),R=t(271),L=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(r.a)(this,Object(d.a)(a).call(this,e))).componentWillMount=function(){t.getData()},t.handleChange=function(e){return function(a){var l=parseInt(a.target.attributes.getNamedItem("data-number").value);if(1===l){var i=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_nama:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:i})}else if(2===l){var r=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_jk:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:r})}else if(3===l){var d=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_nip:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:d})}else if(4===l){var o=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_golongan:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:o})}else if(5===l){var s=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_pangkat:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:s})}else if(6===l){var c=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_jabatan:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:c})}else if(7===l){var m=t.state.dataAll.map(function(l,i){if(e!==i)return l;var r=Object(n.a)({},l,{opd_pegawai_pendidikan:a.target.value});return t.setState({dataPilih:r}),r});t.setState({dataAll:m})}}},t.changePesan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===e?t.setState({pesan:""}):t.setState({pesan:m.a.createElement(p.a,{color:a},e)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.setData=function(e){e.status&&t.setState({dataAll:e.data,jumlahPage:e.jumlahPage,jumlahAll:e.jumlahAll,dataOpd:e.dataOpd})},t.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0});var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("rpjmd",localStorage.getItem("codexv-rpjmd")),a.append("search",t.state.pencarian),A.a.post(N.apiRoot+"opd/menyusun/pegawai/page-"+e,a).then(function(e){t.setData(e.data),console.log(e),t.setState({loading:!1})}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleSubmit=function(){t.setState({loading:!0});var e="";"Edit"===t.state.aksi?e=N.apiRoot+"opd/menyusun/pegawai/update":"Tambah"===t.state.aksi&&(e=N.apiRoot+"opd/menyusun/pegawai/create");var a="";"Laki - Laki"===t.state.dataPilih.opd_pegawai_jk?a=1:"Perempuan"===t.state.dataPilih.opd_pegawai_jk&&(a=2);var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("rpjmd",localStorage.getItem("codexv-rpjmd")),n.append("opd_pegawai_id",t.state.dataPilih.opd_pegawai_id),n.append("opd_pegawai_nama",t.state.dataPilih.opd_pegawai_nama),n.append("opd_pegawai_jk",a),n.append("opd_pegawai_nip",t.state.dataPilih.opd_pegawai_nip),n.append("opd_pegawai_golongan",t.state.dataPilih.opd_pegawai_golongan),n.append("opd_pegawai_pangkat",t.state.dataPilih.opd_pegawai_pangkat),n.append("opd_pegawai_jabatan",t.state.dataPilih.opd_pegawai_jabatan),n.append("opd_pegawai_pendidikan",t.state.dataPilih.opd_pegawai_pendidikan),A.a.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){e.data.status?(t.modalCreateClose(),t.getData(t.state.page),t.changePesan(e.data.pesan)):t.changePesan(e.data.pesan,"warning"),t.setState({loading:!1}),console.log(e.data)}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleDelete=function(){t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("opd_pegawai_id",t.state.dataPilih.opd_pegawai_id),A.a.post(N.apiRoot+"opd/menyusun/pegawai/delete",e).then(function(e){e.data.status?(t.modalDelete(),t.getData(t.state.page),t.changePesan(e.data.pesan)):t.changePesan(e.data.pesan,"warning"),t.setState({loading:!1}),console.log(e)}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleCariSubmit=function(e){e.preventDefault(),t.getData()},t.changePage=function(e){t.setState({page:e}),t.getData(e)},t.pageNation=function(){var e=[];t.state.page>1?e.push(m.a.createElement(u.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},m.a.createElement(g.a,{previous:!0,tag:"button"},"Prev"))):e.push(m.a.createElement(u.a,{disabled:!0,key:0},m.a.createElement(g.a,{previous:!0,tag:"button"},"Prev")));for(var a=!1,n=!1,l=function(l){n=a,a=!1,l+2>=t.state.page&&l-2<=t.state.page&&(a=!0),1!==l&&l!==t.state.jumlahPage||(a=!0),a?l===t.state.page?e.push(m.a.createElement(u.a,{active:!0,key:l},m.a.createElement(g.a,{tag:"button"},l))):e.push(m.a.createElement(u.a,{key:l,onClick:function(){return t.changePage(l)}},m.a.createElement(g.a,{tag:"button"},l))):n!==a&&e.push(m.a.createElement(u.a,{key:l,disabled:!0},m.a.createElement(g.a,{tag:"button"},"...")))},i=1;i<=t.state.jumlahPage;i++)l(i);return t.state.page<t.state.jumlahPage?e.push(m.a.createElement(u.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},m.a.createElement(g.a,{next:!0,tag:"button"},"Next"))):e.push(m.a.createElement(u.a,{disabled:!0,key:t.state.jumlahPage+2},m.a.createElement(g.a,{next:!0,tag:"button"},"Next"))),m.a.createElement(h.a,null,e)},t.dataPilihAwal={id:0,name:"0",ageid:0},t.state={loading:!1,dataAll:[],jumlahPage:1,modalCreate:!1,modalDelete:!1,modalPesan:!1,dataPilih:t.dataPilihAwal,dataTambah:[],dataOpd:[],pencarian:"",page:1,aksi:"Tambah",name:"",age:0,edit:0},document.title="Menyusun Pegawai OPD",t.modalPesan=t.modalPesan.bind(Object(s.a)(Object(s.a)(t))),t.modalDelete=t.modalDelete.bind(Object(s.a)(Object(s.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(s.a)(Object(s.a)(t))),t}return Object(o.a)(a,e),Object(i.a)(a,[{key:"handlePencarianChange",value:function(e){this.setState({pencarian:e.target.value})}},{key:"modalCreateClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!1})}},{key:"modalCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===e.length?this.setState({dataPilih:this.dataPilihAwal}):(this.setState({dataPilih:e}),console.log(e))}},{key:"modalPesan",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalPesan:!this.state.modalPesan,dataPilih:e})}},{key:"modalDelete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalDelete:!this.state.modalDelete,dataPilih:e})}},{key:"tambah",value:function(){this.state.jumlahPage>0?this.setState({dataPilih:this.dataPilihAwal,edit:0,page:this.state.jumlahPage}):this.setState({dataPilih:this.dataPilihAwal,edit:0,page:1}),this.handleSubmit()}},{key:"edit",value:function(e){0!==this.state.edit&&this.simpan(e),this.setState({dataPilih:this.dataPilihAwal,edit:e.opd_pegawai_id})}},{key:"simpan",value:function(e){this.setState({edit:0}),this.handleSubmit(),console.log(this.state.dataPilih)}},{key:"isi",value:function(){var e=this;return this.state.loading?m.a.createElement("div",null,m.a.createElement("img",{src:T.a,alt:"logo"})):m.a.createElement("div",null,this.state.pesan,m.a.createElement(E.a,null,m.a.createElement(v.a,{xs:"128",md:"10"},m.a.createElement(R.a,{link:"opd/menyusun/pegawai"}),m.a.createElement(_.a,{method:"post",onSubmit:this.handleCariSubmit,className:"form-horizontal"},m.a.createElement(f.a,{row:!0},m.a.createElement(v.a,{xs:"9",md:"5"},m.a.createElement(P.a,{type:"text",placeholder:"Pencarian",onChange:this.handlePencarianChange,value:this.state.pencarian})),m.a.createElement(v.a,{xs:"3",md:"2"},m.a.createElement(b.a,{color:"primary"},"Cari"))))),m.a.createElement(v.a,{xs:"12",md:"2"},m.a.createElement(b.a,{color:"info",onClick:function(){e.setState({aksi:"Tambah"}),e.tambah()},className:"mr-1"},"Tambah"))),m.a.createElement(k.a,{responsive:!0,striped:!0,bordered:!0},m.a.createElement("thead",{style:{textAlign:"center",backgroundColor:"#0066ff",color:"white"}},m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"Jenis Kelamin"),m.a.createElement("th",null,"NIP"),m.a.createElement("th",null,"Golongan"),m.a.createElement("th",null,"Pangkat"),m.a.createElement("th",null,"Jabatan"),m.a.createElement("th",null,"Pendidikan"),m.a.createElement("th",null,"Aksi"))),m.a.createElement("tbody",null,this.state.dataAll.map(function(a,t){return a.opd_pegawai_id!==e.state.edit?a?m.a.createElement("tr",{key:t},m.a.createElement("td",null,20*(e.state.page-1)+t+1),m.a.createElement("td",null,a.opd_pegawai_nama),m.a.createElement("td",null,a.opd_pegawai_jk),m.a.createElement("td",null,a.opd_pegawai_nip),m.a.createElement("td",null,a.opd_pegawai_golongan),m.a.createElement("td",null,a.opd_pegawai_pangkat),m.a.createElement("td",null,a.opd_pegawai_jabatan),m.a.createElement("td",null,a.opd_pegawai_pendidikan),m.a.createElement("td",null,m.a.createElement(b.a,{color:"info",onClick:function(){e.setState({aksi:"Edit"}),e.edit(a)},className:"mr-1"},"Edit"),m.a.createElement(b.a,{color:"danger",onClick:function(){return e.modalDelete(a)},className:"mr-1"},"Hapus"))):null:a?m.a.createElement("tr",{key:t},m.a.createElement("td",null,20*(e.state.page-1)+t+1),m.a.createElement("td",null,m.a.createElement(P.a,{type:"text",value:a.opd_pegawai_nama,"data-number":"1",onChange:e.handleChange(t)})),m.a.createElement("td",null,m.a.createElement(P.a,{type:"select",value:a.opd_pegawai_jk,"data-number":"2",onChange:e.handleChange(t)},m.a.createElement("option",{value:""},"Pilih Jenis Kelamin"),m.a.createElement("option",{value:"Laki - Laki"},"Laki - Laki"),m.a.createElement("option",{value:"Perempuan"},"Perempuan"))),m.a.createElement("td",null,m.a.createElement(P.a,{type:"number",value:a.opd_pegawai_nip,"data-number":"3",onChange:e.handleChange(t)})),m.a.createElement("td",null,m.a.createElement(P.a,{type:"text",value:a.opd_pegawai_golongan,"data-number":"4",onChange:e.handleChange(t)})),m.a.createElement("td",null,m.a.createElement(P.a,{type:"text",value:a.opd_pegawai_pangkat,"data-number":"5",onChange:e.handleChange(t)})),m.a.createElement("td",null,m.a.createElement(P.a,{type:"text",value:a.opd_pegawai_jabatan,"data-number":"6",onChange:e.handleChange(t)})),m.a.createElement("td",null,m.a.createElement(P.a,{type:"text",value:a.opd_pegawai_pendidikan,"data-number":"7",onChange:e.handleChange(t)})),m.a.createElement("td",null,m.a.createElement(b.a,{color:"success",onClick:function(){e.simpan(a)},className:"mr-1"},"Simpan"))):null}))),this.pageNation())}},{key:"render",value:function(){return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(E.a,null,m.a.createElement(v.a,{xs:"12",lg:"12"},m.a.createElement(w.a,null,m.a.createElement(S.a,null,m.a.createElement("i",{className:"fa fa-align-justify"})," ",document.title),m.a.createElement(j.a,null,m.a.createElement("h5",{style:{textAlign:"center"}},"Daftar Pegawai"),m.a.createElement("table",null,m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,"Urusan"),m.a.createElement("td",null,":"),m.a.createElement("td",null,this.state.dataOpd.Nm_Urusan)),m.a.createElement("tr",null,m.a.createElement("td",null,"Bidang"),m.a.createElement("td",null,":"),m.a.createElement("td",null,this.state.dataOpd.Nm_Bidang)),m.a.createElement("tr",null,m.a.createElement("td",null,"Unit"),m.a.createElement("td",null,":"),m.a.createElement("td",null,this.state.dataOpd.Nm_Unit)),m.a.createElement("tr",null,m.a.createElement("td",null,"Sub"),m.a.createElement("td",null,":"),m.a.createElement("td",null,this.state.dataOpd.Nm_Sub_Unit)))),m.a.createElement("hr",null),m.a.createElement(y.a,{isOpen:this.state.modalPesan,toggle:this.modalPesan,className:this.props.className},m.a.createElement(C.a,{toggle:this.modalPesan},"Hapus Data"),m.a.createElement(D.a,null,"Apakah Anda Yakin Menghapus Data?"),m.a.createElement(O.a,null,m.a.createElement(b.a,{color:"danger",onClick:this.handleDelete},"Ya")," ",m.a.createElement(b.a,{color:"secondary",onClick:this.modalPesan},"Batal"))),m.a.createElement(y.a,{isOpen:this.state.modalDelete,toggle:this.modalDelete,className:this.props.className},m.a.createElement(C.a,{toggle:this.modalDelete},"Hapus Data"),m.a.createElement(D.a,null,"Apakah Anda Yakin Menghapus Data?"),m.a.createElement(O.a,null,m.a.createElement(b.a,{color:"danger",onClick:this.handleDelete},"Ya")," ",m.a.createElement(b.a,{color:"secondary",onClick:this.modalDelete},"Batal"))),this.isi())))))}}]),a}(c.Component);a.default=L}}]);
//# sourceMappingURL=47.7199993d.chunk.js.map