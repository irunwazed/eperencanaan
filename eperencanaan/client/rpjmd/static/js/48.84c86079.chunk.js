(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{267:function(e,a,t){e.exports=t.p+"static/media/loading.557336d4.gif"},372:function(e,a,t){"use strict";t.r(a);var n=t(274),l=t(85),r=t(86),c=t(88),m=t(87),d=t(89),u=t(90),o=t(1),i=t.n(o),s=t(101),g=t(91),h=t(92),E=t(93),p=t(106),_=t(107),S=t(103),k=t(104),f=t(109),v=t(108),P=t(96),b=t(95),K=t(94),j=t(105),y=t(102),w=t(98),C=t(99),T=t(100),D=t(270),I=t.n(D),A=t(268),x=t(267),N=t.n(x),O=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).componentWillMount=function(){t.getData()},t.handleChange=function(e){return function(a){var l=parseInt(a.target.attributes.getNamedItem("data-number").value);if(1===l){var r=t.state.dataAll.map(function(l,r){if(e!==r)return l;var c=Object(n.a)({},l,{Kd_Keg:a.target.value});return t.setState({dataPilih:c}),c});t.setState({dataAll:r})}if(2===l){var c=t.state.dataAll.map(function(l,r){if(e!==r)return l;var c=Object(n.a)({},l,{outcome_kegiatan:a.target.value});return t.setState({dataPilih:c}),c});t.setState({dataAll:c})}}},t.changePesan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===e?t.setState({pesan:""}):t.setState({pesan:i.a.createElement(s.a,{color:a},e)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.setData=function(e){e.status&&t.setState({dataAll:e.data,jumlahPage:e.jumlahPage,jumlahAll:e.jumlahAll,dataTambah:e.dataTambah,dataOpd:e.dataOpd}),e.data.length>0?t.rpjmdTahun=parseInt(e.data[0].rpjmd_tahun):t.rpjmdTahun=0},t.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0});var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("rpjmd",localStorage.getItem("codexv-rpjmd")),a.append("search",t.state.pencarian),I.a.post(A.apiRoot+t.link+"/page-"+e,a).then(function(e){t.setData(e.data),console.log(e),t.setState({loading:!1})}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.getKegiatan=function(e,a,n){t.setState({loading:!0});var l=new FormData;l.append("session",localStorage.getItem("codexv-session")),l.append("urusan",e),l.append("bidang",a),l.append("program",n),I.a.post(A.apiRoot+"opd/get-data/kegiatan",l).then(function(e){e.data.status&&t.setState({dataTambah:e.data.data}),t.setState({loading:!1}),console.log(e)}).catch(function(e){console.log(e),t.setState({loading:!1})})},t.handleSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.setState({loading:!0});var a="";"Edit"===t.state.aksi?a=A.apiRoot+t.link+"/update":"Tambah"===t.state.aksi&&(a=A.apiRoot+t.link+"/create");var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("rpjmd",localStorage.getItem("codexv-rpjmd")),"Tambah"===t.state.aksi?n.append("perumusan_program_id",e.perumusan_program_id):(n.append("perumusan_program_id",t.state.dataPilih.perumusan_program_id),n.append("Kd_Keg",t.state.dataPilih.Kd_Keg),n.append("outcome_kegiatan",t.state.dataPilih.outcome_kegiatan)),I.a.post(a,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){e.data.status?(t.modalCreateClose(),t.getData(t.state.page),t.changePesan(e.data.pesan)):t.changePesan(e.data.pesan,"warning"),t.setState({loading:!1}),console.log(e.data)}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleDelete=function(){t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("perumusan_program_id",t.state.dataPilih.perumusan_program_id),I.a.post(A.apiRoot+t.link+"/delete",e).then(function(e){t.modalDelete(),e.data.status?(t.getData(t.state.page),t.changePesan(e.data.pesan)):t.changePesan(e.data.pesan,"warning"),t.setState({loading:!1}),console.log(e)}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleCariSubmit=function(e){e.preventDefault(),t.getData()},t.changePage=function(e){t.setState({page:e}),t.getData(e)},t.pageNation=function(){var e=[];t.state.page>1?e.push(i.a.createElement(g.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},i.a.createElement(h.a,{previous:!0,tag:"button"},"Prev"))):e.push(i.a.createElement(g.a,{disabled:!0,key:0},i.a.createElement(h.a,{previous:!0,tag:"button"},"Prev")));for(var a=!1,n=!1,l=function(l){n=a,a=!1,l+2>=t.state.page&&l-2<=t.state.page&&(a=!0),1!==l&&l!==t.state.jumlahPage||(a=!0),a?l===t.state.page?e.push(i.a.createElement(g.a,{active:!0,key:l},i.a.createElement(h.a,{tag:"button"},l))):e.push(i.a.createElement(g.a,{key:l,onClick:function(){return t.changePage(l)}},i.a.createElement(h.a,{tag:"button"},l))):n!==a&&e.push(i.a.createElement(g.a,{key:l,disabled:!0},i.a.createElement(h.a,{tag:"button"},"...")))},r=1;r<=t.state.jumlahPage;r++)l(r);return t.state.page<t.state.jumlahPage?e.push(i.a.createElement(g.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},i.a.createElement(h.a,{next:!0,tag:"button"},"Next"))):e.push(i.a.createElement(g.a,{disabled:!0,key:t.state.jumlahPage+2},i.a.createElement(h.a,{next:!0,tag:"button"},"Next"))),i.a.createElement(E.a,null,e)},t.styleForm={minWidth:300},t.dataPilihAwal={id:0,name:"0",ageid:0},t.state={loading:!1,dataAll:[],jumlahPage:1,modalCreate:!1,modalDelete:!1,modalPesan:!1,dataPilih:t.dataPilihAwal,dataTambah:[],dataOpd:[],pencarian:"",page:1,aksi:"Tambah",name:"",age:0,edit:0},document.title="Menyusun Renstra Kabupaten",t.link="opd/menyusun/renstra-kab",t.modalDelete=t.modalDelete.bind(Object(u.a)(Object(u.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"handlePencarianChange",value:function(e){this.setState({pencarian:e.target.value})}},{key:"modalCreateClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!1})}},{key:"modalCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===e.length?this.setState({dataPilih:this.dataPilihAwal}):(this.setState({dataPilih:e}),console.log(e))}},{key:"modalDelete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalDelete:!this.state.modalDelete,dataPilih:e})}},{key:"tambah",value:function(e){this.setState({dataPilih:e,edit:0,page:this.state.jumlahPage}),this.handleSubmit(e)}},{key:"edit",value:function(e){0!==this.state.edit&&this.simpan(e),this.getKegiatan(e.Kd_Urusan,e.Kd_Bidang,e.Kd_Prog),this.setState({dataPilih:this.dataPilihAwal,edit:e.idAll})}},{key:"simpan",value:function(e){this.setState({edit:0,aksi:"Tambah"}),this.handleSubmit(),console.log(this.state.dataPilih)}},{key:"isi",value:function(){var e=this;return this.state.loading?i.a.createElement("div",null,i.a.createElement("img",{src:N.a,alt:"logo"})):i.a.createElement("div",null,this.state.pesan,i.a.createElement(p.a,null,i.a.createElement(_.a,{xs:"128",md:"10"},i.a.createElement(S.a,{method:"post",onSubmit:this.handleCariSubmit,className:"form-horizontal"},i.a.createElement(k.a,{row:!0},i.a.createElement(_.a,{xs:"9",md:"5"},i.a.createElement(f.a,{type:"text",placeholder:"Pencarian",onChange:this.handlePencarianChange,value:this.state.pencarian})),i.a.createElement(_.a,{xs:"3",md:"2"},i.a.createElement(v.a,{color:"primary"},"Cari"))))),i.a.createElement(_.a,{xs:"12",md:"2"})),i.a.createElement(P.a,{responsive:!0,striped:!0,bordered:!0},i.a.createElement("thead",{style:{textAlign:"center",backgroundColor:"#0066ff",color:"white"}},i.a.createElement("tr",null,i.a.createElement("th",{rowSpan:"3"},"Tujuan"),i.a.createElement("th",{rowSpan:"3"},"Sasaran"),i.a.createElement("th",{rowSpan:"3"},"Indikator"),i.a.createElement("th",{rowSpan:"3",colSpan:"4"},"Kode"),i.a.createElement("th",{rowSpan:"3"},"Program"),i.a.createElement("th",{rowSpan:"3"},"Kegiatan"),i.a.createElement("th",{rowSpan:"2",colSpan:"2"},"Indikator Kinerka (Outcome)"),i.a.createElement("th",{rowSpan:"3"},"Kondisi Kinerja pada Awal RPJMD (Tahun 0)"),i.a.createElement("th",{colSpan:"17"},"Capaian Kerja"),i.a.createElement("th",{rowSpan:"3"},"Lokasi"),i.a.createElement("th",{rowSpan:"3"},"Penanggung Jawab"),i.a.createElement("th",{rowSpan:"3"},"Aksi")),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"3"},this.rpjmdTahun),i.a.createElement("th",{colSpan:"3"},this.rpjmdTahun+1),i.a.createElement("th",{colSpan:"3"},this.rpjmdTahun+2),i.a.createElement("th",{colSpan:"3"},this.rpjmdTahun+3),i.a.createElement("th",{colSpan:"3"},this.rpjmdTahun+4),i.a.createElement("th",{colSpan:"2"},"Kondisi Kinerja Akhir Periode")),i.a.createElement("tr",null,i.a.createElement("th",null,"Program"),i.a.createElement("th",null,"Kegiatan"),i.a.createElement("th",{colSpan:"2"},"Target"),i.a.createElement("th",null,"Rp"),i.a.createElement("th",{colSpan:"2"},"Target"),i.a.createElement("th",null,"Rp"),i.a.createElement("th",{colSpan:"2"},"Target"),i.a.createElement("th",null,"Rp"),i.a.createElement("th",{colSpan:"2"},"Target"),i.a.createElement("th",null,"Rp"),i.a.createElement("th",{colSpan:"2"},"Target"),i.a.createElement("th",null,"Rp"),i.a.createElement("th",null,"Target"),i.a.createElement("th",null,"Rp")),i.a.createElement("tr",null,i.a.createElement("th",null,"(1)"),i.a.createElement("th",null,"(2)"),i.a.createElement("th",null,"(3)"),i.a.createElement("th",{colSpan:"4"},"(4)"),i.a.createElement("th",{colSpan:"2"},"(5)"),i.a.createElement("th",{colSpan:"2"},"(6)"),i.a.createElement("th",null,"(7)"),i.a.createElement("th",{colSpan:"2"},"(8)"),i.a.createElement("th",null,"(9)"),i.a.createElement("th",{colSpan:"2"},"(10)"),i.a.createElement("th",null,"(11)"),i.a.createElement("th",{colSpan:"2"},"(12)"),i.a.createElement("th",null,"(13)"),i.a.createElement("th",{colSpan:"2"},"(14)"),i.a.createElement("th",null,"(15)"),i.a.createElement("th",{colSpan:"2"},"(16)"),i.a.createElement("th",null,"(17)"),i.a.createElement("th",null,"(18)"),i.a.createElement("th",null,"(19)"),i.a.createElement("th",null,"(20)"),i.a.createElement("th",null,"(21)"),i.a.createElement("th",null))),i.a.createElement("tbody",null,this.state.dataAll.map(function(a,t){return a.idAll!==e.state.edit?""===a.Kd_Keg?a?i.a.createElement("tr",{key:t},i.a.createElement("td",null,a.tujuan_nama),i.a.createElement("td",null,a.sasaran_nama),i.a.createElement("td",null,a.indikator_nama),i.a.createElement("td",null,a.Kd_Urusan),i.a.createElement("td",null,a.Kd_Bidang),i.a.createElement("td",null,a.Kd_Prog),i.a.createElement("td",null,a.Kd_Keg),i.a.createElement("td",null,a.Ket_Program),i.a.createElement("td",null,a.Ket_Kegiatan),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement(v.a,{color:"info",onClick:function(){e.setState({aksi:"Tambah"}),e.tambah(a)},className:"mr-1"},"Tambah"))):null:a?i.a.createElement("tr",{key:t},i.a.createElement("td",null,a.tujuan_nama),i.a.createElement("td",null,a.sasaran_nama),i.a.createElement("td",null,a.indikator_nama),i.a.createElement("td",null,a.Kd_Urusan),i.a.createElement("td",null,a.Kd_Bidang),i.a.createElement("td",null,a.Kd_Prog),i.a.createElement("td",null,a.Kd_Keg),i.a.createElement("td",null,a.Ket_Program),i.a.createElement("td",null,a.Ket_Kegiatan),i.a.createElement("td",null,a.outcome),i.a.createElement("td",null,a.outcome_kegiatan),i.a.createElement("td",null,a.kondisi_awal),i.a.createElement("td",null,a.target1_tahun),i.a.createElement("td",null,a.target1_satuan_nama),i.a.createElement("td",null,a.target1_harga),i.a.createElement("td",null,a.target2_tahun),i.a.createElement("td",null,a.target2_satuan_nama),i.a.createElement("td",null,a.target2_harga),i.a.createElement("td",null,a.target3_tahun),i.a.createElement("td",null,a.target3_satuan_nama),i.a.createElement("td",null,a.target3_harga),i.a.createElement("td",null,a.target4_tahun),i.a.createElement("td",null,a.target4_satuan_nama),i.a.createElement("td",null,a.target4_harga),i.a.createElement("td",null,a.target5_tahun),i.a.createElement("td",null,a.target5_satuan_nama),i.a.createElement("td",null,a.target5_harga),i.a.createElement("td",null,a.akhir_target),i.a.createElement("td",null,parseInt(a.target1_harga)+parseInt(a.target2_harga)+parseInt(a.target3_harga)+parseInt(a.target4_harga)+parseInt(a.target5_harga)),i.a.createElement("td",null,a.lokasi),i.a.createElement("td",null,a.Nm_Sub_Unit),i.a.createElement("td",null,i.a.createElement(v.a,{color:"info",onClick:function(){e.setState({aksi:"Edit"}),e.edit(a)},className:"mr-1"},"Edit"),i.a.createElement(v.a,{color:"danger",onClick:function(){return e.modalDelete(a)},className:"mr-1"},"Hapus"))):null:a?i.a.createElement("tr",{key:t},i.a.createElement("td",null,a.tujuan_nama),i.a.createElement("td",null,a.sasaran_nama),i.a.createElement("td",null,a.indikator_nama),i.a.createElement("td",null,a.Kd_Urusan),i.a.createElement("td",null,a.Kd_Bidang),i.a.createElement("td",null,a.Kd_Prog),i.a.createElement("td",null,a.Kd_Keg),i.a.createElement("td",null,a.Ket_Program),i.a.createElement("td",null,i.a.createElement(f.a,{type:"select",style:e.styleForm,value:a.Kd_Keg,"data-number":"1",onChange:e.handleChange(t),required:!0,autoFocus:!0},i.a.createElement("option",{key:"-1",value:""},"-= Pilih Kegiatan =-"),e.state.dataTambah.map(function(e,a){return e?i.a.createElement("option",{key:a,value:e.Kd_Keg},e.Ket_Kegiatan):null}))),i.a.createElement("td",null,a.outcome),i.a.createElement("td",null,i.a.createElement(f.a,{type:"text",style:e.styleForm,value:a.outcome_kegiatan,"data-number":"2",onChange:e.handleChange(t)})),i.a.createElement("td",null,a.kondisi_awal),i.a.createElement("td",null,a.target1_tahun),i.a.createElement("td",null,a.target1_satuan_nama),i.a.createElement("td",null,a.target1_harga),i.a.createElement("td",null,a.target2_tahun),i.a.createElement("td",null,a.target2_satuan_nama),i.a.createElement("td",null,a.target2_harga),i.a.createElement("td",null,a.target3_tahun),i.a.createElement("td",null,a.target3_satuan_nama),i.a.createElement("td",null,a.target3_harga),i.a.createElement("td",null,a.target4_tahun),i.a.createElement("td",null,a.target4_satuan_nama),i.a.createElement("td",null,a.target4_harga),i.a.createElement("td",null,a.target5_tahun),i.a.createElement("td",null,a.target5_satuan_nama),i.a.createElement("td",null,a.target5_harga),i.a.createElement("td",null,a.akhir_target),i.a.createElement("td",null,parseInt(a.target1_harga)+parseInt(a.target2_harga)+parseInt(a.target3_harga)+parseInt(a.target4_harga)+parseInt(a.target5_harga)),i.a.createElement("td",null,a.lokasi),i.a.createElement("td",null,a.Nm_Sub_Unit),i.a.createElement("td",null,i.a.createElement(v.a,{color:"success",onClick:function(){e.simpan(a)},className:"mr-1"},"Simpan"))):null}))),this.pageNation())}},{key:"render",value:function(){return i.a.createElement("div",{className:"animated fadeIn"},i.a.createElement(p.a,null,i.a.createElement(_.a,{xs:"12",lg:"12"},i.a.createElement(b.a,null,i.a.createElement(K.a,null,i.a.createElement("i",{className:"fa fa-align-justify"})," ",document.title),i.a.createElement(j.a,null,i.a.createElement("h5",{style:{textAlign:"center"}},"Matriks Rencana Program, Kegiatan, Indikator Kinerja, Kelompok Sasaran dan Pendanaan Indikatif"),i.a.createElement("hr",null),i.a.createElement(y.a,{isOpen:this.state.modalDelete,toggle:this.modalDelete,className:this.props.className},i.a.createElement(w.a,{toggle:this.modalDelete},"Hapus Data"),i.a.createElement(C.a,null,"Apakah Anda Yakin Menghapus Data?"),i.a.createElement(T.a,null,i.a.createElement(v.a,{color:"danger",onClick:this.handleDelete},"Ya"),i.a.createElement(v.a,{color:"secondary",onClick:this.modalDelete},"Batal"))),this.isi())))))}}]),a}(o.Component);a.default=O}}]);
//# sourceMappingURL=48.84c86079.chunk.js.map