(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{267:function(a,e,t){a.exports=t.p+"static/media/loading.557336d4.gif"},380:function(a,e,t){"use strict";t.r(e);var n=t(274),l=t(85),s=t(86),u=t(88),d=t(87),r=t(89),i=t(90),o=t(1),h=t.n(o),c=t(101),m=t(91),g=t(92),p=t(93),E=t(106),b=t(107),S=t(108),v=t(96),_=t(109),P=t(95),f=t(94),y=t(105),k=t(102),j=t(98),C=t(99),A=t(100),D=t(270),K=t.n(D),x=t(268),O=t(267),T=t.n(O),w=function(a){function e(a){var t;return Object(l.a)(this,e),(t=Object(u.a)(this,Object(d.a)(e).call(this,a))).componentWillMount=function(){t.getData()},t.handleChange=function(a){return function(e){var l=parseInt(e.target.attributes.getNamedItem("data-number").value);if(1===l){var s=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun1_sebelum:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:s})}if(2===l){var u=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun1_sesudah:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:u})}if(3===l){var d=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun2_sebelum:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:d})}if(4===l){var r=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun2_sesudah:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:r})}if(5===l){var i=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun3_sebelum:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:i})}if(6===l){var o=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun3_sesudah:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:o})}if(7===l){var h=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun4_sebelum:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:h})}if(8===l){var c=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun4_sesudah:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:c})}if(9===l){var m=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun5_sebelum:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:m})}if(10===l){var g=t.state.dataAll.map(function(l,s){var u=l;return a!==s?u:(u=Object(n.a)({},l,{tahun5_sesudah:e.target.value}),t.setState({dataPilih:u}),u)});t.setState({dataAll:g})}if(11===l){var p=t.state.dataAll.map(function(l,s){var u=l,d=e.target.value.split("-");return console.log(d),a!==s?u:(u=Object(n.a)({},l,{Kd_Urusan:d[0],Kd_Bidang:d[1],Kd_Unit:d[2],Kd_Sub:d[3]}),t.setState({dataPilih:u}),u)});t.setState({dataAll:p})}}},t.changePesan=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===a?t.setState({pesan:""}):t.setState({pesan:h.a.createElement(c.a,{color:e},a)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.setData=function(a){a.status&&t.setState({dataAll:a.data,jumlahPage:a.jumlahPage,jumlahAll:a.jumlahAll,dataTambah:a.dataTambah,dataAllOpd:a.dataAllOpd,dataUrusan:a.dataUrusan,dataSatuan:a.dataSatuan}),a.data.length>0?t.rpjmdTahun=parseInt(a.data[0].rpjmd_tahun):t.rpjmdTahun=0,console.log(t.state.dataTambah.tahun)},t.getData=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("search",t.state.pencarian),K.a.post(x.apiRoot+t.link+"/page-"+a,e).then(function(a){t.setData(a.data),console.log(a),t.setState({loading:!1})}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.getOpd=function(a,e){t.setState({loading:!0});var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("rpjmd",localStorage.getItem("codexv-rpjmd")),n.append("urusan",a),n.append("bidang",e),K.a.post(x.apiRoot+"rpjmd/get-data/opd",n).then(function(a){a.data.status&&t.setState({dataOpd:a.data.data}),t.setState({loading:!1})}).catch(function(a){console.log(a),t.setState({loading:!1})})},t.getBidang=function(a){t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("urusan",a),K.a.post(x.apiRoot+"rpjmd/get-data/bidang",e).then(function(a){a.data.status&&t.setState({dataBidang:a.data.data}),t.setState({loading:!1})}).catch(function(a){console.log(a),t.setState({loading:!1})})},t.getProgram=function(a,e){t.setState({loading:!0});var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("urusan",a),n.append("bidang",e),K.a.post(x.apiRoot+"rpjmd/get-data/program",n).then(function(a){a.data.status&&t.setState({dataProgram:a.data.data}),t.setState({loading:!1})}).catch(function(a){console.log(a),t.setState({loading:!1})})},t.getKegiatan=function(a,e,n){t.setState({loading:!0});var l=new FormData;l.append("session",localStorage.getItem("codexv-session")),l.append("urusan",a),l.append("bidang",e),l.append("program",n),K.a.post(x.apiRoot+"opd/get-data/kegiatan",l).then(function(a){a.data.status&&t.setState({dataKegiatan:a.data.data}),t.setState({loading:!1}),console.log(a)}).catch(function(a){console.log(a),t.setState({loading:!1})})},t.handleSubmit=function(){t.setState({loading:!0});var a="";"Edit"===t.state.aksi?a=x.apiRoot+t.link+"/update":"Tambah"===t.state.aksi&&(a=x.apiRoot+t.link+"/create"),console.log(t.state.dataPilih);var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("opd_pagu_id",t.state.dataPilih.opd_pagu_id),e.append("Kd_Urusan",t.state.dataPilih.Kd_Urusan),e.append("Kd_Bidang",t.state.dataPilih.Kd_Bidang),e.append("Kd_Unit",t.state.dataPilih.Kd_Unit),e.append("Kd_Sub",t.state.dataPilih.Kd_Sub),e.append("tahun1_sebelum",t.state.dataPilih.tahun1_sebelum),e.append("tahun1_sesudah",t.state.dataPilih.tahun1_sesudah),e.append("tahun2_sebelum",t.state.dataPilih.tahun2_sebelum),e.append("tahun2_sesudah",t.state.dataPilih.tahun2_sesudah),e.append("tahun3_sebelum",t.state.dataPilih.tahun3_sebelum),e.append("tahun3_sesudah",t.state.dataPilih.tahun3_sesudah),e.append("tahun4_sebelum",t.state.dataPilih.tahun4_sebelum),e.append("tahun4_sesudah",t.state.dataPilih.tahun4_sesudah),e.append("tahun5_sebelum",t.state.dataPilih.tahun5_sebelum),e.append("tahun5_sesudah",t.state.dataPilih.tahun5_sesudah),K.a.post(a,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status?(t.modalCreateClose(),t.getData(t.state.page),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.setState({loading:!1}),console.log(a.data)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleDelete=function(){t.setState({loading:!0});var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("rpjmd",localStorage.getItem("codexv-rpjmd")),a.append("opd_pagu_id",t.state.dataPilih.opd_pagu_id),K.a.post(x.apiRoot+t.link+"/delete",a).then(function(a){a.data.status?(t.getData(t.state.page),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.modalDelete(),t.setState({loading:!1}),console.log(a)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleCariSubmit=function(a){a.preventDefault(),t.getData()},t.changePage=function(a){t.setState({page:a}),t.getData(a)},t.pageNation=function(){var a=[];t.state.page>1?a.push(h.a.createElement(m.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},h.a.createElement(g.a,{previous:!0,tag:"button"},"Prev"))):a.push(h.a.createElement(m.a,{disabled:!0,key:0},h.a.createElement(g.a,{previous:!0,tag:"button"},"Prev")));for(var e=!1,n=!1,l=function(l){n=e,e=!1,l+2>=t.state.page&&l-2<=t.state.page&&(e=!0),1!==l&&l!==t.state.jumlahPage||(e=!0),e?l===t.state.page?a.push(h.a.createElement(m.a,{active:!0,key:l},h.a.createElement(g.a,{tag:"button"},l))):a.push(h.a.createElement(m.a,{key:l,onClick:function(){return t.changePage(l)}},h.a.createElement(g.a,{tag:"button"},l))):n!==e&&a.push(h.a.createElement(m.a,{key:l,disabled:!0},h.a.createElement(g.a,{tag:"button"},"...")))},s=1;s<=t.state.jumlahPage;s++)l(s);return t.state.page<t.state.jumlahPage?a.push(h.a.createElement(m.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},h.a.createElement(g.a,{next:!0,tag:"button"},"Next"))):a.push(h.a.createElement(m.a,{disabled:!0,key:t.state.jumlahPage+2},h.a.createElement(g.a,{next:!0,tag:"button"},"Next"))),h.a.createElement(p.a,null,a)},t.styleForm={minWidth:300},t.dataPilihAwal={id:0,name:"0",ageid:0},t.state={loading:!1,dataAll:[],jumlahPage:1,modalCreate:!1,modalDelete:!1,modalPesan:!1,dataPilih:t.dataPilihAwal,dataTambah:[],dataOpd:[],dataUrusan:[],dataBidang:[],dataProgram:[],dataKegiatan:[],dataSatuan:[],pencarian:"",page:1,aksi:"Tambah",name:"",age:0,edit:0},document.title="Menyusun Pagu OPD",t.link="opd/menyusun/pagu",t.modalDelete=t.modalDelete.bind(Object(i.a)(Object(i.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(i.a)(Object(i.a)(t))),t}return Object(r.a)(e,a),Object(s.a)(e,[{key:"handlePencarianChange",value:function(a){this.setState({pencarian:a.target.value})}},{key:"modalCreateClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!1})}},{key:"modalCreate",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length?this.setState({dataPilih:this.dataPilihAwal}):(this.setState({dataPilih:a}),console.log(a))}},{key:"modalDelete",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalDelete:!this.state.modalDelete,dataPilih:a})}},{key:"getDataTambahan",value:function(a){this.getBidang(a.Kd_Urusan),this.getOpd(a.Kd_Urusan,a.Kd_Bidang),this.getProgram(a.Kd_Urusan,a.Kd_Bidang),this.getKegiatan(a.Kd_Urusan,a.Kd_Bidang,a.Kd_Prog)}},{key:"tambah",value:function(a){this.setState({dataPilih:a,edit:0,page:this.state.jumlahPage}),this.handleSubmit()}},{key:"edit",value:function(a){this.getDataTambahan(a),0!==this.state.edit&&this.simpan(a),this.setState({dataPilih:a,edit:a.opd_pagu_id})}},{key:"simpan",value:function(a){this.setState({edit:0,aksi:"Tambah"}),this.handleSubmit(),console.log(this.state.dataPilih)}},{key:"isi",value:function(){var a=this;return this.state.loading?h.a.createElement("div",null,h.a.createElement("img",{src:T.a,alt:"logo"})):h.a.createElement("div",null,this.state.pesan,h.a.createElement(E.a,null,h.a.createElement(b.a,{xs:"128",md:"10"}),h.a.createElement(b.a,{xs:"12",md:"2"},h.a.createElement(S.a,{color:"info",onClick:function(){a.setState({aksi:"Tambah"}),a.tambah(a.dataPilihAwal)},className:"mr-1"},"Tambah"))),h.a.createElement(v.a,{responsive:!0,striped:!0,bordered:!0},h.a.createElement("thead",{style:{textAlign:"center",backgroundColor:"#0066ff",color:"white"}},h.a.createElement("tr",null,h.a.createElement("th",{rowSpan:"3"},"Nama OPD"),h.a.createElement("th",{colSpan:"2"},"Tahun 1"),h.a.createElement("th",{colSpan:"2"},"Tahun 2"),h.a.createElement("th",{colSpan:"2"},"Tahun 3"),h.a.createElement("th",{colSpan:"2"},"Tahun 4"),h.a.createElement("th",{colSpan:"2"},"Tahun 5"),h.a.createElement("th",{rowSpan:"3"},"Aksi")),h.a.createElement("tr",null,h.a.createElement("th",{colSpan:"2"},"Pagu"),h.a.createElement("th",{colSpan:"2"},"Pagu"),h.a.createElement("th",{colSpan:"2"},"Pagu"),h.a.createElement("th",{colSpan:"2"},"Pagu"),h.a.createElement("th",{colSpan:"2"},"Pagu")),h.a.createElement("tr",null,h.a.createElement("th",null,"Sebelum Perubahan"),h.a.createElement("th",null,"Setelah Perubahan"),h.a.createElement("th",null,"Sebelum Perubahan"),h.a.createElement("th",null,"Setelah Perubahan"),h.a.createElement("th",null,"Sebelum Perubahan"),h.a.createElement("th",null,"Setelah Perubahan"),h.a.createElement("th",null,"Sebelum Perubahan"),h.a.createElement("th",null,"Setelah Perubahan"),h.a.createElement("th",null,"Sebelum Perubahan"),h.a.createElement("th",null,"Setelah Perubahan")),h.a.createElement("tr",null,h.a.createElement("th",null,"(1)"),h.a.createElement("th",null,"(2)"),h.a.createElement("th",null,"(3)"),h.a.createElement("th",null,"(4)"),h.a.createElement("th",null,"(5)"),h.a.createElement("th",null,"(6)"),h.a.createElement("th",null,"(7)"),h.a.createElement("th",null,"(8)"),h.a.createElement("th",null,"(9)"),h.a.createElement("th",null,"(10)"),h.a.createElement("th",null,"(11)"),h.a.createElement("th",null,"(12)"))),h.a.createElement("tbody",null,this.state.dataAll.map(function(e,t){return e.opd_pagu_id!==a.state.edit?e?h.a.createElement("tr",{key:t},h.a.createElement("td",null,e.Nm_Sub_Unit),h.a.createElement("td",null,e.tahun1_sebelum),h.a.createElement("td",null,e.tahun1_sesudah),h.a.createElement("td",null,e.tahun2_sebelum),h.a.createElement("td",null,e.tahun2_sesudah),h.a.createElement("td",null,e.tahun3_sebelum),h.a.createElement("td",null,e.tahun3_sesudah),h.a.createElement("td",null,e.tahun4_sebelum),h.a.createElement("td",null,e.tahun4_sesudah),h.a.createElement("td",null,e.tahun5_sebelum),h.a.createElement("td",null,e.tahun5_sesudah),h.a.createElement("td",null,h.a.createElement(S.a,{color:"info",onClick:function(){a.setState({aksi:"Edit"}),a.edit(e)},className:"mr-1"},"Edit"),h.a.createElement(S.a,{color:"danger",onClick:function(){return a.modalDelete(e)},className:"mr-1"},"Hapus"))):null:e?h.a.createElement("tr",{key:t},h.a.createElement("td",null,h.a.createElement(_.a,{type:"select",style:a.styleForm,value:e.Kd_Urusan+"-"+e.Kd_Bidang+"-"+e.Kd_Unit+"-"+e.Kd_Sub,"data-number":"11",onChange:a.handleChange(t),required:!0,autoFocus:!0},h.a.createElement("option",{key:"-1",value:""},"-= Pilih OPD =-"),a.state.dataAllOpd.map(function(a,e){return a?h.a.createElement("option",{key:e,value:a.Kd_Urusan+"-"+a.Kd_Bidang+"-"+a.Kd_Unit+"-"+a.Kd_Sub},a.Nm_Sub_Unit):null}))),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun1_sebelum,"data-number":"1",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun1_sesudah,"data-number":"2",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun2_sebelum,"data-number":"3",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun2_sesudah,"data-number":"4",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun3_sebelum,"data-number":"5",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun3_sesudah,"data-number":"6",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun4_sebelum,"data-number":"7",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun4_sesudah,"data-number":"8",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun5_sebelum,"data-number":"9",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(_.a,{type:"text",style:a.styleForm,value:e.tahun5_sesudah,"data-number":"10",onChange:a.handleChange(t)})),h.a.createElement("td",null,h.a.createElement(S.a,{color:"success",onClick:function(){a.simpan(e)},className:"mr-1"},"Simpan"))):null}))),this.pageNation())}},{key:"render",value:function(){return h.a.createElement("div",{className:"animated fadeIn"},h.a.createElement(E.a,null,h.a.createElement(b.a,{xs:"12",lg:"12"},h.a.createElement(P.a,null,h.a.createElement(f.a,null,h.a.createElement("i",{className:"fa fa-align-justify"})," ",document.title),h.a.createElement(y.a,null,h.a.createElement("h5",{style:{textAlign:"center"}},"RENCANA KERJA PEMERINTAH DAERAH TAHUN ",this.rpjmdTahun+parseInt(this.state.dataTambah.tahun)-1," ( Tahun Berjalan)"),h.a.createElement("hr",null),h.a.createElement(k.a,{isOpen:this.state.modalDelete,toggle:this.modalDelete,className:this.props.className},h.a.createElement(j.a,{toggle:this.modalDelete},"Hapus Data"),h.a.createElement(C.a,null,"Apakah Anda Yakin Menghapus Data?"),h.a.createElement(A.a,null,h.a.createElement(S.a,{color:"danger",onClick:this.handleDelete},"Ya"),h.a.createElement(S.a,{color:"secondary",onClick:this.modalDelete},"Batal"))),this.isi())))))}}]),e}(o.Component);e.default=w}}]);
//# sourceMappingURL=57.56348c75.chunk.js.map