(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{267:function(e,a,t){e.exports=t.p+"static/media/loading.557336d4.gif"},274:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},l=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.forEach(function(a){n(e,a,t[a])})}return e}t.d(a,"a",function(){return l})},387:function(e,a,t){"use strict";t.r(a);var n=t(274),l=t(85),s=t(86),i=t(88),r=t(87),o=t(89),d=t(90),c=t(1),u=t.n(c),m=t(101),h=t(91),p=t(92),g=t(93),E=t(109),b=t(106),v=t(107),f=t(103),P=t(104),k=t(108),y=t(96),C=t(95),O=t(94),S=t(105),j=t(102),_=t(98),A=t(99),N=t(110),D=t(351),w=t(100),x=t(270),K=t.n(x),U=t(268),T=t(267),F=t.n(T),M=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(r.a)(a).call(this,e))).componentWillMount=function(){t.getData()},t.handleChange=function(e){return function(a){var l=parseInt(a.target.attributes.getNamedItem("data-number").value);if(1===l){var s=t.state.dataAll.map(function(l,s){if(e!==s)return l;var i=Object(n.a)({},l,{username:a.target.value});return console.log(i),t.setState({dataPilih:i}),i});t.setState({dataAll:s})}else if(2===l){var i=t.state.dataAll.map(function(l,s){if(e!==s)return l;var i=Object(n.a)({},l,{email:a.target.value});return t.setState({dataPilih:i}),i});t.setState({dataAll:i})}else if(3===l){var r=t.state.dataAll.map(function(l,s){if(e!==s)return l;var i=Object(n.a)({},l,{password:a.target.value});return t.setState({dataPilih:i}),i});t.setState({dataAll:r})}else if(4===l){var o=t.state.dataAll.map(function(l,s){if(e!==s)return l;var i=Object(n.a)({},l,{level_id:a.target.value});return t.setState({dataPilih:i}),i});t.setState({dataAll:o})}else if(5===l){var d=a.target.value,c=t.state.dataAll.map(function(a,l){if(e!==l)return a;var s=Object(n.a)({},a,{akun_id:d});return t.setState({dataPilih:s}),s});"3"===d?t.setState({dataAll:c,akunOpd:!0}):t.setState({dataAll:c,akunOpd:!1})}else if(6===l){var u=t.state.dataAll.map(function(l,s){var i=a.target.value.split("-");if(e!==s)return l;var r=Object(n.a)({},l,{Kd_Urusan:i[0],Kd_Bidang:i[1],Kd_Unit:i[2],Kd_Sub_Unit:i[3]});return t.setState({dataPilih:r}),r});t.setState({dataAll:u})}}},t.changePesan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===e?t.setState({pesan:""}):t.setState({pesan:u.a.createElement(m.a,{color:a},e)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.setData=function(e){e.status&&t.setState({dataAll:e.data,jumlahPage:e.jumlahPage,jumlahAll:e.jumlahAll,dataAllOpd:e.dataAllOpd})},t.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0});var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("rpjmd",localStorage.getItem("codexv-rpjmd")),a.append("search",t.state.pencarian),K.a.post(U.apiRoot+t.link+"/page-"+e,a).then(function(e){t.setData(e.data),console.log(e),t.setState({loading:!1})}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleSubmit=function(e){try{e.preventDefault()}catch(l){console.log(l)}t.setState({loading:!0});var a="";"Edit"===t.state.aksi?a=U.apiRoot+t.link+"/update":"Tambah"===t.state.aksi&&(a=U.apiRoot+t.link+"/create");var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("rpjmd",localStorage.getItem("codexv-rpjmd")),n.append("user",t.state.dataPilih.user_id),n.append("email",t.state.dataPilih.email),n.append("username",t.state.dataPilih.username),n.append("password",t.state.dataPilih.password),n.append("level_id",t.state.dataPilih.level_id),n.append("akun_id",t.state.dataPilih.akun_id),n.append("Kd_Urusan",t.state.dataPilih.Kd_Urusan),n.append("Kd_Bidang",t.state.dataPilih.Kd_Bidang),n.append("Kd_Unit",t.state.dataPilih.Kd_Unit),n.append("Kd_Sub_Unit",t.state.dataPilih.Kd_Sub_Unit),K.a.post(a,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){e.data.status?(t.modalCreateClose(),t.getData(t.state.page),t.changePesan(e.data.pesan)):t.changePesan(e.data.pesan,"warning"),t.setState({loading:!1}),console.log(e.data)}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleDelete=function(){t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("user",t.state.dataPilih.user_id),K.a.post(U.apiRoot+t.link+"/delete",e).then(function(e){e.data.status?(t.modalDelete(),t.getData(t.state.page),t.changePesan(e.data.pesan)):t.changePesan(e.data.pesan,"warning"),t.setState({loading:!1}),console.log(e)}).catch(function(e){console.log(e),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleCariSubmit=function(e){e.preventDefault(),t.getData()},t.changePage=function(e){t.setState({page:e}),t.getData(e)},t.pageNation=function(){var e=[];t.state.page>1?e.push(u.a.createElement(h.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},u.a.createElement(p.a,{previous:!0,tag:"button"},"Prev"))):e.push(u.a.createElement(h.a,{disabled:!0,key:0},u.a.createElement(p.a,{previous:!0,tag:"button"},"Prev")));for(var a=!1,n=!1,l=function(l){n=a,a=!1,l+2>=t.state.page&&l-2<=t.state.page&&(a=!0),1!==l&&l!==t.state.jumlahPage||(a=!0),a?l===t.state.page?e.push(u.a.createElement(h.a,{active:!0,key:l},u.a.createElement(p.a,{tag:"button"},l))):e.push(u.a.createElement(h.a,{key:l,onClick:function(){return t.changePage(l)}},u.a.createElement(p.a,{tag:"button"},l))):n!==a&&e.push(u.a.createElement(h.a,{key:l,disabled:!0},u.a.createElement(p.a,{tag:"button"},"...")))},s=1;s<=t.state.jumlahPage;s++)l(s);return t.state.page<t.state.jumlahPage?e.push(u.a.createElement(h.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},u.a.createElement(p.a,{next:!0,tag:"button"},"Next"))):e.push(u.a.createElement(h.a,{disabled:!0,key:t.state.jumlahPage+2},u.a.createElement(p.a,{next:!0,tag:"button"},"Next"))),u.a.createElement(g.a,null,e)},t.styleForm={minWidth:300},t.dataPilihAwal={id:0,username:"",ageid:0},t.state={loading:!1,dataAll:[],jumlahPage:1,modalCreate:!1,modalDelete:!1,modalPesan:!1,dataPilih:t.dataPilihAwal,dataTambah:[],dataOpd:[],dataAllOpd:[],akunOpd:!1,pencarian:"",page:1,aksi:"Tambah",name:"",age:0,edit:0},document.title="Menyusun Pegawai OPD",t.link="admin/user",t.modalCreateClose=t.modalCreateClose.bind(Object(d.a)(Object(d.a)(t))),t.modalCreate=t.modalCreate.bind(Object(d.a)(Object(d.a)(t))),t.modalPesan=t.modalPesan.bind(Object(d.a)(Object(d.a)(t))),t.modalDelete=t.modalDelete.bind(Object(d.a)(Object(d.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(d.a)(Object(d.a)(t))),t.handleChangeTambah=t.handleChangeTambah.bind(Object(d.a)(Object(d.a)(t))),t}return Object(o.a)(a,e),Object(s.a)(a,[{key:"handlePencarianChange",value:function(e){this.setState({pencarian:e.target.value})}},{key:"handleChangeTambah",value:function(e){var a=parseInt(e.target.attributes.getNamedItem("data-number").value),t=this.state.dataPilih;if(t.level_id=1,1===a)t.username=e.target.value;else if(2===a)t.email=e.target.value;else if(3===a)t.password=e.target.value;else if(4===a)t.level_id=e.target.value;else if(5===a)t.akun_id=e.target.value,"3"===t.akun_id?this.setState({akunOpd:!0}):this.setState({akunOpd:!1});else if(6===a){var n=e.target.value.split("-");t.Kd_Urusan=n[0],t.Kd_Bidang=n[1],t.Kd_Unit=n[2],t.Kd_Sub_Unit=n[3],console.log(n)}this.setState({dataPilih:t}),console.log(this.state.dataPilih)}},{key:"modalCreateClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!1})}},{key:"modalCreate",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!0,dataPilih:this.dataPilihAwal}),console.log(this.dataPilihAwal)}},{key:"modalPesan",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalPesan:!this.state.modalPesan,dataPilih:e})}},{key:"modalDelete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalDelete:!this.state.modalDelete,dataPilih:e})}},{key:"tambah",value:function(){this.state.jumlahPage>0?this.setState({dataPilih:this.dataPilihAwal,edit:0,page:this.state.jumlahPage}):this.setState({dataPilih:this.dataPilihAwal,edit:0,page:1})}},{key:"edit",value:function(e){0!==this.state.edit&&this.simpan(e),"3"===e.akun_id?this.setState({dataPilih:this.dataPilihAwal,edit:e.user_id,akunOpd:!0}):this.setState({dataPilih:this.dataPilihAwal,edit:e.user_id}),console.log(e)}},{key:"simpan",value:function(e){this.setState({edit:0}),this.handleSubmit(),console.log(this.state.dataPilih)}},{key:"namaAkun",value:function(e){return"2"===e?"Admin RPJMD":"3"===e?"OPD":"4"===e?"BAPPEDA":void 0}},{key:"cekAkunOpd",value:function(e,a){if(this.state.akunOpd)return-1===a?u.a.createElement(E.a,{type:"select",style:this.styleForm,value:e.Kd_Urusan+"-"+e.Kd_Bidang+"-"+e.Kd_Unit+"-"+e.Kd_Sub_Unit,"data-number":"6",onChange:this.handleChangeTambah,required:!0,autoFocus:!0},u.a.createElement("option",{key:"-1",value:""},"-= Pilih OPD =-"),this.state.dataAllOpd.map(function(e,a){return e?u.a.createElement("option",{key:a,value:e.Kd_Urusan+"-"+e.Kd_Bidang+"-"+e.Kd_Unit+"-"+e.Kd_Sub},e.Nm_Sub_Unit):null})):u.a.createElement(E.a,{type:"select",style:this.styleForm,value:e.Kd_Urusan+"-"+e.Kd_Bidang+"-"+e.Kd_Unit+"-"+e.Kd_Sub_Unit,"data-number":"6",onChange:this.handleChange(a),required:!0,autoFocus:!0},u.a.createElement("option",{key:"-1",value:""},"-= Pilih OPD =-"),this.state.dataAllOpd.map(function(e,a){return e?u.a.createElement("option",{key:a,value:e.Kd_Urusan+"-"+e.Kd_Bidang+"-"+e.Kd_Unit+"-"+e.Kd_Sub},e.Nm_Sub_Unit):null}))}},{key:"isi",value:function(){var e=this;return this.state.loading?u.a.createElement("div",null,u.a.createElement("img",{src:F.a,alt:"logo"})):u.a.createElement("div",null,this.state.pesan,u.a.createElement(b.a,null,u.a.createElement(v.a,{xs:"128",md:"10"},u.a.createElement(f.a,{method:"post",onSubmit:this.handleCariSubmit,className:"form-horizontal"},u.a.createElement(P.a,{row:!0},u.a.createElement(v.a,{xs:"9",md:"5"},u.a.createElement(E.a,{type:"text",placeholder:"Pencarian",onChange:this.handlePencarianChange,value:this.state.pencarian})),u.a.createElement(v.a,{xs:"3",md:"2"},u.a.createElement(k.a,{color:"primary"},"Cari"))))),u.a.createElement(v.a,{xs:"12",md:"2"},u.a.createElement(k.a,{color:"info",onClick:function(){e.setState({aksi:"Tambah"}),e.modalCreate()},className:"mr-1"},"Tambah"))),u.a.createElement(y.a,{responsive:!0,striped:!0,bordered:!0},u.a.createElement("thead",{style:{textAlign:"center",backgroundColor:"#0066ff",color:"white"}},u.a.createElement("tr",null,u.a.createElement("th",null,"No"),u.a.createElement("th",null,"Username"),u.a.createElement("th",null,"Email"),u.a.createElement("th",null,"Password"),u.a.createElement("th",null,"Level"),u.a.createElement("th",null,"Akun"),u.a.createElement("th",null,"Aksi"))),u.a.createElement("tbody",null,this.state.dataAll.map(function(a,t){return a.user_id!==e.state.edit?a?u.a.createElement("tr",{key:t},u.a.createElement("td",null,20*(e.state.page-1)+t+1),u.a.createElement("td",null,a.username),u.a.createElement("td",null,a.email),u.a.createElement("td",null,a.password),u.a.createElement("td",null,a.level_id),u.a.createElement("td",null,e.namaAkun(a.akun_id)),u.a.createElement("td",null,u.a.createElement(k.a,{color:"info",onClick:function(){e.setState({aksi:"Edit"}),e.edit(a)},className:"mr-1"},"Edit"),u.a.createElement(k.a,{color:"danger",onClick:function(){return e.modalDelete(a)},className:"mr-1"},"Hapus"))):null:a?u.a.createElement("tr",{key:t},u.a.createElement("td",null,20*(e.state.page-1)+t+1),u.a.createElement("td",null,u.a.createElement(E.a,{type:"text",style:e.styleForm,value:a.username,"data-number":"1",onChange:e.handleChange(t)})),u.a.createElement("td",null,u.a.createElement(E.a,{type:"text",style:e.styleForm,value:a.email,"data-number":"2",onChange:e.handleChange(t)})),u.a.createElement("td",null,u.a.createElement(E.a,{type:"text",style:e.styleForm,value:a.password,"data-number":"3",onChange:e.handleChange(t)})),u.a.createElement("td",null,u.a.createElement(E.a,{type:"text",style:e.styleForm,value:a.level_id,"data-number":"4",onChange:e.handleChange(t)})),u.a.createElement("td",null,u.a.createElement(E.a,{type:"select",style:e.styleForm,value:a.akun_id,"data-number":"5",onChange:e.handleChange(t),required:!0,autoFocus:!0},u.a.createElement("option",{value:""},"-= Pilih Jenis Admin =-"),u.a.createElement("option",{value:"2"},"Admin RPJMD"),u.a.createElement("option",{value:"3"},"OPD"),u.a.createElement("option",{value:"4"},"Bappeda")),e.cekAkunOpd(a,t)),u.a.createElement("td",null,u.a.createElement(k.a,{color:"success",onClick:function(){e.simpan(a)},className:"mr-1"},"Simpan"))):null}))),this.pageNation())}},{key:"render",value:function(){return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(b.a,null,u.a.createElement(v.a,{xs:"12",lg:"12"},u.a.createElement(C.a,null,u.a.createElement(O.a,null,u.a.createElement("i",{className:"fa fa-align-justify"})," ",document.title),u.a.createElement(S.a,null,u.a.createElement("h5",{style:{textAlign:"center"}},"Daftar User"),u.a.createElement("hr",null),u.a.createElement(j.a,{isOpen:this.state.modalCreate,toggle:this.modalCreateClose,className:"modal-lg "+this.props.className},u.a.createElement(_.a,{toggle:this.modalCreateClose},this.state.aksi," Data"),u.a.createElement(f.a,{method:"post",onSubmit:this.handleSubmit,className:"form-horizontal",id:"form-data"},u.a.createElement(A.a,null,u.a.createElement(P.a,{row:!0},u.a.createElement(v.a,{md:"3"},u.a.createElement(N.a,{htmlFor:"text-input"},"Username *")),u.a.createElement(v.a,{xs:"12",md:"9"},u.a.createElement(E.a,{type:"text","data-number":"1",onChange:this.handleChangeTambah,required:!0,autoFocus:!0}),u.a.createElement(D.a,{color:"muted"},"Isi Username"))),u.a.createElement(P.a,{row:!0},u.a.createElement(v.a,{md:"3"},u.a.createElement(N.a,{htmlFor:"text-input"},"Email / No.Hp *")),u.a.createElement(v.a,{xs:"12",md:"9"},u.a.createElement(E.a,{type:"text","data-number":"2",onChange:this.handleChangeTambah,required:!0,autoFocus:!0}),u.a.createElement(D.a,{color:"muted"},"Isi Email / No.Hp"))),u.a.createElement(P.a,{row:!0},u.a.createElement(v.a,{md:"3"},u.a.createElement(N.a,{htmlFor:"text-input"},"Password *")),u.a.createElement(v.a,{xs:"12",md:"9"},u.a.createElement(E.a,{type:"password","data-number":"3",onChange:this.handleChangeTambah,required:!0,autoFocus:!0}),u.a.createElement(D.a,{color:"muted"},"Isi Password"))),u.a.createElement(P.a,{row:!0},u.a.createElement(v.a,{md:"3"},u.a.createElement(N.a,{htmlFor:"text-input"},"Akun *")),u.a.createElement(v.a,{xs:"12",md:"9"},u.a.createElement(E.a,{type:"select",style:this.styleForm,"data-number":"5",onChange:this.handleChangeTambah,required:!0,autoFocus:!0},u.a.createElement("option",{value:""},"-= Pilih Jenis Admin =-"),u.a.createElement("option",{value:"2"},"Admin RPJMD"),u.a.createElement("option",{value:"3"},"OPD"),u.a.createElement("option",{value:"4"},"Bappeda")),this.cekAkunOpd(this.state.dataPilih,-1),u.a.createElement(D.a,{color:"muted"},"Isi Akun")))),u.a.createElement(w.a,null,u.a.createElement(k.a,{color:"primary",type:"submit",form:"form-data",value:"Submit"},this.state.aksi," Data"),u.a.createElement(k.a,{color:"secondary",onClick:this.modalCreateClose},"Cancel")))),u.a.createElement(j.a,{isOpen:this.state.modalPesan,toggle:this.modalPesan,className:this.props.className},u.a.createElement(_.a,{toggle:this.modalPesan},"Hapus Data"),u.a.createElement(A.a,null,"Apakah Anda Yakin Menghapus Data?"),u.a.createElement(w.a,null,u.a.createElement(k.a,{color:"danger",onClick:this.handleDelete},"Ya")," ",u.a.createElement(k.a,{color:"secondary",onClick:this.modalPesan},"Batal"))),u.a.createElement(j.a,{isOpen:this.state.modalDelete,toggle:this.modalDelete,className:this.props.className},u.a.createElement(_.a,{toggle:this.modalDelete},"Hapus Data"),u.a.createElement(A.a,null,"Apakah Anda Yakin Menghapus Data?"),u.a.createElement(w.a,null,u.a.createElement(k.a,{color:"danger",onClick:this.handleDelete},"Ya")," ",u.a.createElement(k.a,{color:"secondary",onClick:this.modalDelete},"Batal"))),this.isi())))))}}]),a}(c.Component);a.default=M},91:function(e,a,t){"use strict";var n=t(263),l=t(264),s=t(1),i=t.n(s),r=t(0),o=t.n(r),d=t(262),c=t.n(d),u=t(261),m={active:o.a.bool,children:o.a.node,className:o.a.string,cssModule:o.a.object,disabled:o.a.bool,tag:u.m},h=function(e){var a=e.active,t=e.className,s=e.cssModule,r=e.disabled,o=e.tag,d=Object(l.a)(e,["active","className","cssModule","disabled","tag"]),m=Object(u.i)(c()(t,"page-item",{active:a,disabled:r}),s);return i.a.createElement(o,Object(n.a)({},d,{className:m}))};h.propTypes=m,h.defaultProps={tag:"li"},a.a=h},92:function(e,a,t){"use strict";var n=t(263),l=t(264),s=t(1),i=t.n(s),r=t(0),o=t.n(r),d=t(262),c=t.n(d),u=t(261),m={"aria-label":o.a.string,children:o.a.node,className:o.a.string,cssModule:o.a.object,next:o.a.bool,previous:o.a.bool,tag:u.m},h=function(e){var a,t=e.className,s=e.cssModule,r=e.next,o=e.previous,d=e.tag,m=Object(l.a)(e,["className","cssModule","next","previous","tag"]),h=Object(u.i)(c()(t,"page-link"),s);o?a="Previous":r&&(a="Next");var p,g=e["aria-label"]||a;o?p="\xab":r&&(p="\xbb");var E=e.children;return E&&Array.isArray(E)&&0===E.length&&(E=null),m.href||"a"!==d||(d="button"),(o||r)&&(E=[i.a.createElement("span",{"aria-hidden":"true",key:"caret"},E||p),i.a.createElement("span",{className:"sr-only",key:"sr"},g)]),i.a.createElement(d,Object(n.a)({},m,{className:h,"aria-label":g}),E)};h.propTypes=m,h.defaultProps={tag:"a"},a.a=h},93:function(e,a,t){"use strict";var n=t(263),l=t(264),s=t(1),i=t.n(s),r=t(0),o=t.n(r),d=t(262),c=t.n(d),u=t(261),m={children:o.a.node,className:o.a.string,listClassName:o.a.string,cssModule:o.a.object,size:o.a.string,tag:u.m,listTag:u.m,"aria-label":o.a.string},h=function(e){var a,t=e.className,s=e.listClassName,r=e.cssModule,o=e.size,d=e.tag,m=e.listTag,h=e["aria-label"],p=Object(l.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),g=Object(u.i)(c()(t),r),E=Object(u.i)(c()(s,"pagination",((a={})["pagination-"+o]=!!o,a)),r);return i.a.createElement(d,{className:g,"aria-label":h},i.a.createElement(m,Object(n.a)({},p,{className:E})))};h.propTypes=m,h.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"},a.a=h},94:function(e,a,t){"use strict";var n=t(263),l=t(264),s=t(1),i=t.n(s),r=t(0),o=t.n(r),d=t(262),c=t.n(d),u=t(261),m={tag:u.m,className:o.a.string,cssModule:o.a.object},h=function(e){var a=e.className,t=e.cssModule,s=e.tag,r=Object(l.a)(e,["className","cssModule","tag"]),o=Object(u.i)(c()(a,"card-header"),t);return i.a.createElement(s,Object(n.a)({},r,{className:o}))};h.propTypes=m,h.defaultProps={tag:"div"},a.a=h}}]);
//# sourceMappingURL=64.84634648.chunk.js.map